# 数据库连接池
## 基础知识
### 什么是数据库连接池？
池是一组资源的集合，这组资源在服务器启动之初就被完全创建好并初始化。通俗来说，池是资源的容器，本质上是对资源的复用。

顾名思义，连接池中的资源为一组数据库连接，由程序动态地对池中的连接进行使用，释放。

当系统开始处理客户请求的时候，如果它需要相关的资源，可以直接从池中获取，无需动态分配；当服务器处理完一个客户连接后,可以把相关的资源放回池中，无需执行系统调用释放资源。
### 数据库访问的一般流程是什么？
当系统需要访问数据库时，先系统创建数据库连接，完成数据库操作，然后系统断开数据库连接。

### 为什么要创建连接池？
从一般流程中可以看出，若系统需要频繁访问数据库，则需要频繁创建和断开数据库连接，而创建数据库连接是一个很耗时的操作，也容易对数据库造成安全隐患。

在程序初始化的时候，集中创建多个数据库连接，并把他们集中管理，供程序使用，可以保证较快的数据库读写速度，更加安全可靠。

## 整体概述
池可以看做资源的容器，所以多种实现方法，比如数组、链表、队列等。这里，使用单例模式和链表创建数据库连接池，实现对数据库连接资源的复用。

项目中的数据库模块分为两部分，其一是数据库连接池的定义，其二是利用连接池完成登录和注册的校验功能。具体的，工作线程从数据库连接池取得一个连接，访问数据库中的数据，访问完毕后将连接交还连接池。

* 单例模式创建，结合代码描述连接池的单例实现。

* 连接池代码实现，结合代码对连接池的外部访问接口进行详解。

* RAII机制释放数据库连接，描述连接释放的封装逻辑。

## RAII机制释放数据库连接
将数据库连接的获取与释放通过RAII机制封装，避免手动释放。
